<!DOCTYPE html>
<html lang="en">
 <head>
  <title>Github Test Site</title>
</head>
<body>
 <div>
  <section>
   <heading> 
    <h1>Ryan J Shih</h1>
    <h3><pre><code>import smbus2
import time

# PCF8591 default I2C address
address = 0x48 

# Command to read from AIN0
# 0x40 enables analog output, last bits (00) select AIN0
cmd = 0x40 

bus = smbus2.SMBus(1) # Use bus 1 for modern Pi boards

try:
    while True:
        # PCF8591 requires a "dummy read" or a write to set the channel
        bus.write_byte(address, cmd) 
        # Read the current value (0-255)
        value = bus.read_byte(address)
        
        print(f"Hall Sensor Analog Value: {value}")
        
        # Simple Logic: 128 is neutral (no magnet)
        if value > 160:
            print("South Pole Detected")
        elif value < 90:
            print("North Pole Detected")
            
        time.sleep(0.2)
except KeyboardInterrupt:
    print("Cleanup and Exit")
    </code></pre></h3>
   </heading>
  </section>
 </body>
</html>
