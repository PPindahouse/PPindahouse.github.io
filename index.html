<!DOCTYPE html>
<html lang="en">
 <head>
  <title>Github Test Site</title>
</head>
<body>
 <div>
  <section>
   <heading> 
    <h1>Ryan J Shih</h1>
    <h3><pre><code>import smbus2
import RPi.GPIO as GPIO
import time

# I2C setup for PCF8591
address = 0x48
bus = smbus2.SMBus(1)

# GPIO setup for digital pin
DIGITAL_PIN = 17
GPIO.setmode(GPIO.BCM)
GPIO.setup(DIGITAL_PIN, GPIO.IN)

def read_analog(channel):
    # 0x40 enables ADC; channel 0 corresponds to AIN0
    bus.write_byte(address, 0x40 + channel)
    bus.read_byte(address) # Dummy read
    return bus.read_byte(address)

try:
    print("Reading Hall Sensor (Ctrl+C to stop)...")
    while True:
        # 1. Read Analog Value (0-255)
        analog_val = read_analog(0)
        
        # 2. Read Digital State (0 or 1)
        # Note: Most Hall modules are 'Active Low' (0 when magnet is near)
        digital_state = GPIO.input(DIGITAL_PIN)
        
        status = "MAGNET DETECTED" if digital_state == 0 else "No Magnet"
        
        print(f"Analog: {analog_val:3d} | Digital: {digital_state} ({status})")
        
        time.sleep(0.2)

except KeyboardInterrupt:
    GPIO.cleanup()
    print("\nProgram stopped.")


import cv2

# Initialize the USB camera (0 is usually the default)
cap = cv2.VideoCapture(0)

# Set resolution to 1080p
cap.set(cv2.CAP_PROP_FRAME_WIDTH, 1920)
cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 1080)

# Create a named window to attach trackbars
cv2.namedWindow('Logi 1080p Feed')

# Callback function (required for trackbars, though we don't need it for logic)
def nothing(x):
    pass

# Create trackbars for adjusting overlay position (X and Y)
cv2.createTrackbar('PosX', 'Logi 1080p Feed', 50, 1920, nothing)
cv2.createTrackbar('PosY', 'Logi 1080p Feed', 100, 1080, nothing)

print("Press 'q' to quit.")

while True:
    ret, frame = cap.read()
    if not ret:
        break

    # Get current positions of trackbars
    x_pos = cv2.getTrackbarPos('PosX', 'Logi 1080p Feed')
    y_pos = cv2.getTrackbarPos('PosY', 'Logi 1080p Feed')

    # Define the data you want to display
    display_text = f"DATA: Sensor_Value_01 | Coord: {x_pos}, {y_pos}"

    # Add a semi-transparent black background for the text (Rectangle)
    # This makes the "data" easier to read over the video
    cv2.rectangle(frame, (x_pos - 10, y_pos - 40), (x_pos + 650, y_pos + 10), (0, 0, 0), -1)

    # Draw the text overlay
    cv2.putText(frame, display_text, (x_pos, y_pos), 
                cv2.FONT_HERSHEY_SIMPLEX, 1.0, (255, 255, 255), 2, cv2.LINE_AA)

    # Show the frame
    cv2.imshow('Logi 1080p Feed', frame)

    # Exit on 'q' key
    if cv2.waitKey(1) & 0xFF == ord('q'):
        break

cap.release()
cv2.destroyAllWindows()

    </code></pre></h3>
   </heading>
  </section>
 </body>
</html>
